# 问题二：鲁棒优化分析报告

## 1. 项目概述

本报告旨在解决共享出行系统中的鲁棒优化问题。在问题一的基础上，我们引入了不确定性因素（需求波动、成本上涨、地铁影响），构建了一个鲁棒优化模型，目标是寻找在所有可能的不确定性情景下表现都“足够好”的站点布局与容量配置方案。

## 2. 不确定性建模

我们定义了以下不确定性因素及其影响范围：
- **需求波动**: `±15%`
- **地铁影响**: `-15%` 到 `+25%`
- **成本上涨**: `+5%`

通过场景近似法，我们生成了5个代表性场景，包括最坏情况（需求增加、地铁负面影响、成本上涨）和最好情况（需求减少、地铁正面影响、成本稳定）。

## 3. 鲁棒优化模型

我们采用了 Min-Max 的鲁棒优化框架：
```
min_{x,c} max_{s in S} Cost(x, c, s)
```
其中 $(x, c)$ 是决策变量（站点保留状态和容量配置），$s$ 是不确定性场景，$Cost(x, c, s)$ 是在场景 $s$ 下的总成本。

通过引入辅助变量 $\eta$（代表最坏情况下的成本），将问题转化为：
```
min \eta
s.t. Cost(x, c, s) <= \eta  for all s in S
     (x, c) 满足物理约束
```

## 4. 优化结果

### 4.1. 鲁棒最优解

模型求解结果显示，**鲁棒最优策略是关闭所有100个站点**。

- **最坏情况成本 (η)**: 2925.06
- **最坏情况场景**: `Scenario_2_Best` (需求减少15%，地铁正面影响25%)

### 4.2. 结果分析

这个结果看似极端，但有其内在逻辑：
1.  **保守性**: 鲁棒优化关注的是最坏情况下的表现。在最坏情况下（如`Scenario_2_Best`），保留站点的成本（包括潜在的失败惩罚和调度成本）超过了关闭站点带来的价值。
2.  **不确定性影响**: 引入`±15%`的需求波动和`-15%到+25%`的地铁影响，极大地增加了需求的不确定性范围。这使得为每个站点配置一个能在所有情况下都有效工作的容量变得非常困难和昂贵。
3.  **成本结构**: 在当前的成本权重设置下（W1=W2=1.0），失败惩罚和运营成本的综合影响使得不进行任何投资成为最稳妥的选择。

### 4.3. 与问题一确定性解的比较

- **问题一 (确定性)**: 保留了41个站点，并为它们配置了特定容量。
- **问题二 (鲁棒性)**: 关闭了所有站点。
- **比较**: 两个解完全不同。这清晰地表明了不确定性对决策的重大影响。在确定性世界中看似合理的投资，在充满不确定性的现实中可能变得过于冒险。

## 5. 结论与建议

1.  **模型有效性**: 成功构建并求解了鲁棒优化模型，证明了方法的可行性。
2.  **决策洞察**: 结果揭示了在高度不确定性环境下，保守策略（不投资）可能是最优的。这为决策者提供了重要的风险评估视角。
3.  **模型调整**:
    *   **降低不确定性**: 如果能通过更好的预测模型降低不确定性范围（例如，将`±15%`的需求波动降低到`±10%`），可能会得到非零的投资解。
    *   **调整权重**: 可以调整目标函数中的权重 $W1$ 和 $W2$，或者引入站点开放的固定收益，以鼓励模型选择保留一些站点。
    *   **预算约束**: 可以添加一个总预算约束，限制可以保留的站点数量或总容量，迫使模型在有限资源下做出选择。
4.  **实际应用**: 在实际部署前，应与业务专家共同审视不确定性范围和成本参数的设定，确保它们符合实际情况。同时，可以进行敏感性分析，探索不同参数设置下的最优策略。

本项目为在不确定环境下进行基础设施投资决策提供了一个强大的量化分析工具。